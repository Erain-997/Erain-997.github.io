---
layout:     post
title:      App测试汇总
subtitle:   从安全、稳定、可持续等几个方向进行测试
date:       2022-09-13
author:     Erain
header-img: img/home-bg.jpg
categories: None
catalog: true
tags:
- 面试
- 手机测试
---

# App怎么测试
1. **功能测试**      
   业务功能点测试
2. **兼容性测试**     
   不同机型、不同屏幕大小、不同系统,兼容新机型的优先级需要经过市场分析
1. **压力测试**      
   大数据、高负载、高交互下的长时间测试
2. **UI/UE测试**     
   用户体验、交互测试
3. **埋点测试**      
   用户行为数据采集测试
4. **安装/卸载测试**    
   安装、更新、热更、卸载、卸载重装测试。以及安装包的测试、包体的安全性，包上线的渠道等
5. **后台测试**      
   前后端接口测试，包括:响应、数据、安全性、稳定性(防止被攻击)
6. **安全测试**      
   接口安全、游戏内安全、购买项安全、用户数据安全等
7. **接口测试**      
    - 通过性验证
    - 参数组合:正反用例
    - 接口安全:功能被mock、身份授权、参数加密、数据加密
    - 异常验证
8.  **异常测试**     
    快速点击、横竖屏、小图标等，服务器更新时客户端的响应等
9.  **弱网测试**     
    包括:体验性、高延时、高丢包、低恢复、异常机制
    - 体验性包括:资源加载、功能恢复、响应时间、闪退、文案描述、用户引导等
    - 无网
    - 各种网络网络下运行
    - 切换网络:好切坏，坏切好，wifi切换等
    - 断网重连:恢复情况
    - 异常机制:异常日志上传、容错机制、超时机制、重连机制


## 兼容性测试
针对市场分析以及用户群体使用情况进行分析，对机型进行优先级排序
1. 针对重点机型测试     
   1. 总体测试:功能测试、支付项、数据采集等各方面完整的测试，甚至是同种机型在不同系统版本下的测试:安卓9/10、ios、手机系统等。
   2. 如果涉及外设也要相应的验证蓝牙、耳机等情况
   3. 网络相关
2. 对非主流机型进行抽样检查      
   回归测试

## 埋点测试
1. 确认埋点触发行为、确认开发埋点具体位置
1. 确认埋点数据持久化，本地/云
1. 确认埋点数据权限

- **功能测试**:模拟用户执行指定操作，后端/运营检查数据，正向用例看相应行为记录的条数/内容/时间是否正确，反向用例看行为失败时是否正确记录
- **并发测试**:高并发下埋点的记录是否正确（条数/内容/时间）
- **耗时测试**:验证高并发和低并发下的耗时

## 安全测试
1. **环境安全**:root、代理、模拟器
2. **应用安全**:重打包、解包、组件安全
3. **用户操作安全**:弱口令、密码找回、密码保护、验证码机制
4. **数据安全**:模拟器、屏幕录制、信息显示安全、本地存储数据安全、数据清理(有些app可以卸载重装机制刷道具)
5. **通信安全**:接口安全、会话超时、断网检测、身份认证、网络攻击等
6. **业务安全**:越权访问、信息提示、数据有效性(通过断网修改日期刷道具)
7. **服务端安全**:基础设施配置、系统组件
8. **代码安全**
9. **安装包测试**:反编译、ios签名、软件权限设置、md5完整性
10. **软键盘劫持**
11. **账户安全**
12. **数据通信安全**:密码传输、数据合法性

## 压测
1. 响应时间--接口响应、服务响应
1. 服务器资源使用情况是否合理--数据库、主机、日志服务
1. 应用服务器和数据库资源使用是否合理----具体各资源的负载
1. 系统能否实现扩展--增加活动、增加属性等（好友跨服、联盟攻占）
1. 系统最多支持多少用户访问、系统最大业务处理量是多少--活跃人数并发，人数并存
1. 系统性能可能存在的瓶颈在哪里--数据量
1. 更换那些设备可以提高性能--服务端宿主机、数据库、链路的任意一个节点都可以
1. 系统能否支持7×24小时的业务访问

# adb
ADB 也是 Android SDK 中的一个工具，可以直接操作管理 Android 模拟器或者真实的 Android 设备
1. **基本指令**
   1. **adb version**
      显示adb版本
   2. **adb start-server**
      启动adb
   3. **adb kill-server**
      关闭adb
   4. **adb devices**
      查看已连接的设备号
   5. **adb connect 设备号**
      adb连接
   6. **adb root**
      获取 Android 管理员（root 用户）的权限
   7. **adb shell**
      登录设备-shell，这个命令将登录设备的 shell(内核)，登录 shell 后可以使用 cd、ls、rm 等 Linux 命令
2. **安装/卸载相关**
   1. **adb shell pm list packages**
      显示所有包名
   2. **adb shell pm list packages –s**
      显示系统应用包名
   3. **adb shell pm list packages -3**
      显示第三方包名
   4. **adb install <apk 文件路径 >**
      安装
   5. **adb uninstall <apk 包名 >**
      卸载
3. **文件操作**
   1. **adb push < 本地路径 > < 手机端路径 >**     
      把本地的文件或文件夹复制到设备（手机）
   2. **adb pull < 手机端文件 > < 本地路径 >**     
      把设备（手机）的文件或文件夹复制到本地
4. 日志操作
   1. adb logcat -v time > D:\logs\logcat.log      
      输出实时日志并保存在本地文件，通过 Ctrl+C 来停止。抓取日志的步骤:先输入命令启动日志，然后操作 App，复现 bug，再 ctrl+c 停止日志，分析本地保存的文件
   2. adb bugreport >D:\logs\ bugreport.log     
      输入指令后开始抓取 Log，不需要按 Ctrl+C 来停止，会自动化停止 Log 打印，并将日志文件保存在本地。抓取日志的步骤:主要抓取执行命令时往前 10 分钟左右的日志信息，所以在出现 bug 后立即采用此方法才有效，问题出现时间太长不建议使用此方法
5. 系统操作
   1. **adb shell getprop ro.product.model**
      获取设备型号
   2. **adb shell getprop ro.build.version.release**
      获取安卓系统版本
   3. **adb get-serialno**
      获取设备序列号
   4. **adb shell wm size**
      获取屏幕分辨率
   5. **adb shell screencap -p /sdcard/mms.png**
      屏幕截图
   6. **adb shell dumpsys activity |find "mResumedActivity"**
      查看前台应用包名，适用于 Android 8.0 以上，必须先启动 app
